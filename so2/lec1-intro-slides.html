<!DOCTYPE html>


<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SO2 课程 01——课程概要以及 Linux 内核介绍 &mdash; Linux 系统内核文档</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    <link rel="stylesheet" href="../_static/single.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    
    
    <link rel="stylesheet" href="../_static/asciinema-player.css" type="text/css" />
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/asciinema-player.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/common.js"></script>
    
    <script type="text/javascript" src="../_static/slides.js"></script>
    <script type="text/javascript" src="../_static/sync.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>
    
    
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="top" title="Linux 系统内核文档" href="../index.html" />
    <link rel="up" title="操作系统 2" href="index.html" />
    <link rel="next" title="SO2 课程 02——系统调用" href="lec2-syscalls.html" />
    <link rel="prev" title="SO2——基本规则和评分" href="grading.html" /> 
  </head>
  <body>

<section
   id="slide_container"
   class='slides layout-regular'>


  
<article class="admonition-so2-01-linux slide level-1">

<h1>SO2 课程 01——课程概要以及 Linux 内核介绍</h1>





</article>
<article class="admonition- slide level-2">

<h2>团队</h2>

<ul class="simple">
<li>丹尼尔·巴卢塔（丹尼尔），拉兹万·迪亚科内斯库（拉兹万，RD），克劳迪乌吉奥克（克劳迪乌），瓦伦丁·吉塔（瓦利），谢尔久·魏斯（谢尔久），奥克塔维安·普尔迪拉（塔维）</li>
<li>亚历山德鲁·米利塔鲁（亚历克斯），特奥多拉·舍尔巴内斯库（特奥），斯特凡特奥多雷斯库（斯特凡，范内），米哈伊·波普斯库（米哈伊，米苏），康斯坦丁·拉杜卡努，丹尼尔·丁卡，劳伦丁·斯特凡</li>
<li>祝你在新学期一切顺利！</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>课程定位</h2>

<div class="highlight-text"><div class="highlight"><pre><span></span>+---------------------------------------------------------+
|        应用程序编程 (EGC, SPG, PP, SPRC, IOC 等)         |
+---------------------------------------------------------+

     +----------------------------------+
     |       系统编程 (PC, SO, CPL)     |
     +----------------------------------+
                                               用户空间
----------------------------------------------------------=-
                                               内核空间
       +--------------------------+
       |       内核编程 (SO2)      |
       +--------------------------+

----------------------------------------------------------=-

     +----------------------------------+
     |     硬件 (PM, CN1, CN2, PL )     |
     +----------------------------------+
</pre></div>
</div>




</article>
<article class="admonition- slide level-2">

<h2>资源</h2>

<ul class="simple">
<li>Linux 内核实验: <a class="reference external" href="https://linux-kernel-labs-zh.xyz/">https://linux-kernel-labs-zh.xyz/</a></li>
<li>邮件列表: <a class="reference external" href="mailto:so2&#37;&#52;&#48;cursuri&#46;cs&#46;pub&#46;ro">so2<span>&#64;</span>cursuri<span>&#46;</span>cs<span>&#46;</span>pub<span>&#46;</span>ro</a></li>
<li>Facebook</li>
<li>vmchecker</li>
<li>Google 目录，Google 日历</li>
<li>LXR: <a class="reference external" href="https://elixir.bootlin.com/linux/v5.10.14/source">https://elixir.bootlin.com/linux/v5.10.14/source</a></li>
<li>cs.curs.pub.ro——作为门户的角色</li>
<li>积分奖励</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>社区</h2>

<ul class="simple">
<li>贡献教程: <a class="reference external" href="https://linux-kernel-labs-zh.xyz/info/contributing.html">https://linux-kernel-labs-zh.xyz/info/contributing.html</a></li>
<li>修正、调整、澄清、有用的信息</li>
<li>讨论列表</li>
<li>回答同学们的问题</li>
<li>提出与课程相关的讨论主题</li>
<li>Facebook</li>
<li>提供建议、提案和反馈</li>
<li>获得积分</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>评分</h2>

<ul class="simple">
<li>实验室活动 2 分</li>
<li>“考试”期间评分 3 分</li>
<li>家庭作业 5 分</li>
<li>“额外”活动</li>
<li>家庭作业 + 额外活动得分超过 5 分
与考试成绩成正比</li>
<li>作业 0——0.5 分</li>
<li>作业 1、2、3——每项 1.5 分</li>
<li>通过条件：最终成绩 4.5，考试最低成绩 3</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>课程目标</h2>

<ul class="simple">
<li>展示操作系统内部结构</li>
<li>目标：通用操作系统</li>
<li>单体内核结构和组件</li>
<li>进程、文件系统、网络</li>
<li>内存管理</li>
<li>以 Linux 为例</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>实验和作业目标</h2>

<ul class="simple">
<li>掌握实现设备驱动程序所需的知识</li>
<li>通过解决练习题深入理解知识</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>必修课程</h2>

<ul class="simple">
<li>编程：C 语言</li>
<li>数据结构：哈希表，平衡树</li>
<li>IOCLA：寄存器和基本指令操作（加法，比较，跳转）</li>
<li>计算机网络：TLB/CAM，内存，处理器，I/O</li>
<li>PC，RL：以太网，IP，套接字</li>
<li>操作系统：进程，文件，线程，虚拟内存</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>关于课程</h2>

<ul class="simple">
<li>12 堂课</li>
<li>互动性</li>
<li>参与讨论</li>
<li>当你不理解时请提问</li>
<li>相当“密集”，强烈建议在课前和课后阅读参考资料</li>
<li>1 小时 20 分钟的演讲 + 20 分钟的测试和讨论</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>课程列表</h2>

<table class="hlist"><tr><td><ul class="simple">
<li>介绍</li>
<li>系统调用</li>
<li>进程</li>
<li>中断</li>
<li>同步</li>
<li>内存寻址</li>
</ul>
</td><td><ul class="simple">
<li>内存管理</li>
<li>文件管理</li>
<li>内核调试</li>
<li>网络管理</li>
<li>虚拟化</li>
<li>内核性能分析</li>
</ul>
</td></tr></table>




</article>
<article class="admonition- slide level-2">

<h2>关于实验</h2>

<ul class="simple">
<li>内核模块和设备驱动程序</li>
<li>15 分钟演示 / 80 分钟工作时间</li>
<li>活动将被评分</li>
<li>边做边学</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>关于主题</h2>

<ul class="simple">
<li>必需：深入了解 API（实验）和概念（课程）</li>
<li>公开测试</li>
<li>测试支持（vmchecker）</li>
<li>虽然要写的代码不多，但难度相对较大</li>
<li>难度在于适应新环境</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>主题列表</h2>

<ul class="simple">
<li>主题 0——内核 API</li>
<li>基于 Kprobe 的追踪器</li>
<li>串行端口驱动程序</li>
<li>软件 RAID</li>
<li>SO2 传输协议</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>课程参考书目</h2>

<ul class="simple">
<li>《Linux 内核开发》第三版，Robert Love，Addison Wesley，2010 年</li>
<li>《理解 Linux 内核》第三版，Daniel P. Bovet &amp; Marco Cesati，O'Reilly，2005 年</li>
<li>《Linux 网络架构》，Klaus Wehrle，Frank Pahlke，Hartmut Ritter，Daniel Muller，Marc Bechler，Prentice Hall，2004 年</li>
<li>《理解 Linux 网络内部结构》，Christian Benvenuti，O'Reilly，2005 年</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>实验参考书目</h2>

<ul class="simple">
<li>《Linux 设备驱动程序》第三版，Alessandro Rubini &amp; Jonathan Corbet，O'Reilly，2006 年</li>
<li>《Linux 内核简明教程》，Greg Kroah-Hartman，O'Reilly，2005 年</li>
</ul>




</article>
<article class="admonition-introduction slide level-2">

<h2>Introduction</h2>

<ul class="simple">
<li>基本的操作系统名词和概念</li>
<li>Linux 内核概述</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>用户与内核的比较</h2>

<ul class="simple">
<li>执行模式<ul>
<li>内核模式</li>
<li>用户模式</li>
</ul>
</li>
<li>内存保护<ul>
<li>内核空间</li>
<li>用户空间</li>
</ul>
</li>
</ul>




</article>
<article class="admonition- slide level-1">

<h1>典型操作系统架构</h1>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">level:</th><td class="field-body">2</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">inline-contents:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">True</td>
</tr>
</tbody>
</table>
<div class="highlight-text"><div class="highlight"><pre><span></span>+---------------+  +--------------+      +---------------+  -\
|   应用程序 1   |  |   应用程序 2  | ...  |   应用程序 n  |   |
+---------------+  +--------------+      +---------------+   |&gt; 用户空间
        |                 |                      |           |
        v                 v                      v          -/
+--------------------------------------------------------+  -\
|                     系统调用接口                        |   |
+--------------------------------------------------------+   |
        |                 |                      |           |
        v                 v                      v           |&gt; 内核空间
+--------------------------------------------------------+   |
|                        内核                            |   |
+--------------------------------------------------------+   |
|                      设备驱动                           |   |
+--------------------------------------------------------+  -/
        |                 |                      |          -\
        v                 v                      v           |&gt; 硬件
                                                            -/
</pre></div>
</div>




</article>
<article class="admonition- slide level-2">

<h2>单体内核</h2>

<div class="highlight-text"><div class="highlight"><pre><span></span>+-----+          +-----+          +-----+
| 应用 |         | 应用 |          | 应用 |
+-----+          +-----+          +-----+
   |                |                |                用户
=--|-------=--------|--------=-------|-------------------=-
   |                |                |                内核
   v                v                v
+--------------------------------------------------------+
|                   系统调用接口                          |
+--------------------------------------------------------+
          |                                    |
          v                                    v
       +-----+                              +-----+
       |     |&lt;----------------------------&gt;|     |  内核
       |     |&lt;---+                +-------&gt;|     |  函数
       +--+--+    |                |        +-----+
          |       |                |           ^
          |       |     +-----+    |           |
          |+------+----&gt;|     |&lt;---+           |
          ||      |     +-----+                |
          ||      |                            |
          vv      |                            v
       +--++-+    |                         +-----+
       |     |    +------------------------&gt;|     |  设备
       |     |&lt;----------------------------&gt;|     |  驱动
       +--+--+                              +--+--+
          |                                    |
          v                                    v
+--------------------------------------------------------+
|                           硬件                         |
+--------------------------------------------------------+
</pre></div>
</div>




</article>
<article class="admonition- slide level-2">

<h2>单体内核 <em>可以</em> 是模块化的</h2>

<ul class="simple">
<li>组件可以在编译时启用或禁用</li>
<li>支持可加载内核模块（在运行时）</li>
<li>将内核组织成逻辑上独立的子系统</li>
<li>接口严格，但其性能开销低：宏、内联函数以及函数指针</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>“混合”内核</h2>

<p>许多操作系统和内核专家认为这种标签没有实际意义，仅仅是市场营销的策略。Linus Torvalds 对此评论道：</p>
<p>“至于所谓的‘混合内核’，那完全是营销的产物。‘噢，微内核获得了很多好评，我们怎样才能为我们的内核也赢得一些好评呢？我有个主意，就让我们给它起一个很酷的名字，暗示它拥有所有其他系统的优势。’”</p>




</article>
<article class="admonition- slide level-2">

<h2>地址空间</h2>

<ul class="simple">
<li>物理地址空间</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>RAM 和外设内存</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>虚拟地址空间<ul>
<li>CPU 在受保护/分页模式下感知的内存</li>
<li>进程地址空间</li>
<li>内核地址空间</li>
</ul>
</li>
</ul>




</article>
<article class="admonition- slide level-1">

<h1>用户和内核共享虚拟地址空间</h1>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">level:</th><td class="field-body">2</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">inline-contents:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">True</td>
</tr>
</tbody>
</table>
<div class="highlight-text"><div class="highlight"><pre><span></span>            +-------------------+  ^
0xFFFFFFFF  |                   |  |
            |                   |  | 内核空间
            |                   |  |
            +-------------------+  v
0xC0000000  |                   |  ^
            |                   |  | 用户空间
            |                   |  |
            |                   |  |
            |                   |  |
            |                   |  |
            |                   |  |
            |                   |  |
            |                   |  |
0x00000000  +-------------------+  v

             32 位虚拟地址空间
</pre></div>
</div>




</article>
<article class="admonition- slide level-2">

<h2>执行上下文</h2>

<ul class="simple">
<li>进程上下文<ul>
<li>在用户模式下运行的代码，属于进程的一部分</li>
<li>作为进程发出的系统调用的结果，在内核模式下运行的代码</li>
</ul>
</li>
<li>中断上下文：<ul>
<li>作为中断的结果而运行的代码</li>
<li>总是在内核模式下运行</li>
</ul>
</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>多任务处理</h2>

<ul class="simple">
<li>支持“同时”执行多个进程的操作系统</li>
<li>通过快速切换运行进程来实现，以允许用户与每个程序进行交互</li>
<li>实现方式：<ul>
<li>合作式</li>
<li>抢占式</li>
</ul>
</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>抢占式内核</h2>

<p>抢占式多任务处理与抢占式内核是两个不同的概念。</p>
<p>如果一个进程在内核模式下运行时可以被其他进程抢占，那么这个内核就是抢占式的。</p>
<p>然而，请注意，即使是非抢占式内核，也可能支持抢占式多任务处理。</p>




</article>
<article class="admonition- slide level-2">

<h2>可分页的内核内存</h2>

<p>如果内核内存的某些部分（如代码、数据、堆栈或动态分配的内存）能够被交换到磁盘上，那么该内核就支持可分页的内核内存。</p>




</article>
<article class="admonition- slide level-2">

<h2>内核堆栈</h2>

<p>每个进程都配备了一个内核堆栈，该堆栈用于维护函数调用链和局部变量的状态。当进程因系统调用而运行在内核模式下时，会使用到这个内核堆栈。</p>
<p>由于内核堆栈的容量相对较小（通常在 4 KB 到 12 KB 之间），内核开发人员必须避免在堆栈上分配大型数据结构或进行深度未受限的递归调用。</p>




</article>
<article class="admonition- slide level-2">

<h2>可移植性</h2>

<ul class="simple">
<li>架构和机器特定代码（C 和 汇编）</li>
<li>独立于架构的代码（C）：<ul>
<li>内核核心（进一步分为多个子系统）</li>
<li>设备驱动程序</li>
</ul>
</li>
</ul>




</article>
<article class="admonition-asmp slide level-2">

<h2>非对称多处理（ASMP）</h2>

<div class="highlight-text"><div class="highlight"><pre><span></span>                            +-----------+
                            |           |
        +------------------&gt;|   内存    |&lt;-----------------+
        |                   |           |                  |
        |                   +-----------+                  |
        |                         ^                        |
        |                         |                        |
        v                         v                        v
+--------------+          +---------------+         +---------------+
|              |          |               |         |               |
|   处理器 A    |          |  处理器 B     |         |  处理器 C     |
|              |          |               |         |               |
|              |          | +-----------+ |         | +-----------+ |
|              |          | | 进程 1    | |         | | 进程 1    | |
|              |          | +-----------+ |         | +-----------+ |
|              |          |               |         |               |
| +----------+ |          | +-----------+ |         | +-----------+ |
| |  内核    | |          | | 进程 2    | |         | | 进程 2    | |
| +----------+ |          | +-----------+ |         | +-----------+ |
|              |          |               |         |               |
|              |          | +-----------+ |         | +-----------+ |
|              |          | | 进程 3    | |         | | 进程 3    | |
|              |          | +-----------+ |         | +-----------+ |
+--------------+          +---------------+         +---------------+
</pre></div>
</div>




</article>
<article class="admonition-smp slide level-2">

<h2>对称多处理（SMP）</h2>

<div class="highlight-text"><div class="highlight"><pre><span></span>                             +-----------+
                             |           |
        +-------------------&gt;|   内存    |&lt;------------------+
        |                    |           |                   |
        |                    +-----------+                   |
        |                          ^                         |
        |                          |                         |
        v                          v                         v
+---------------+          +---------------+         +---------------+
|               |          |               |         |               |
|  处理器 A      |          |  处理器 B      |         |  处理器 C     |
|               |          |               |         |               |
| +-----------+ |          | +-----------+ |         | +-----------+ |
| | 进程 1    | |          | | 进程 1    | |          | | 进程 1    | |
| +-----------+ |          | +-----------+ |         | +-----------+ |
|               |          |               |         |               |
| +-----------+ |          | +-----------+ |         | +-----------+ |
| | 进程 2    | |          | | 进程 2     | |         | | 进程 2    | |
| +-----------+ |          | +-----------+ |         | +-----------+ |
|               |          |               |         |               |
| +-----------+ |          | +-----------+ |         | +-----------+ |
| |   内核    | |          | |   内核    | |          | |   内核    | |
| +-----------+ |          | +-----------+ |         | +-----------+ |
+---------------+          +---------------+         +---------------+
</pre></div>
</div>




</article>
<article class="admonition-cpu slide level-2">

<h2>CPU 可扩展性</h2>

<ul class="simple">
<li>尽可能使用无锁（lock free）算法</li>
<li>对于高争用区域（high contention areas）使用细粒度锁（fine grained locking）</li>
<li>注意算法复杂度</li>
</ul>




</article>
<article class="admonition-linux slide level-2">

<h2>Linux开发模型</h2>

<ul class="simple">
<li>开源，采用 GPLv2 许可证</li>
<li>贡献者：公司、学术界和独立开发者</li>
<li>开发周期：3——4 个月，包括 1——2 周的合并窗口（merge window）和错误修复阶段</li>
<li>新特性只允许在合并窗口期间合并</li>
<li>合并窗口结束后,每周会制作一个发行候选（release candidate）版本（rc1、rc2 等）</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>维护者层次结构</h2>

<ul class="simple">
<li>Linus Torvalds 是 Linux 内核的维护者，他从子系统维护者那里合并拉取请求（pull request）</li>
<li>每个子系统都有一个或多个维护者，他们接受开发者或设备驱动程序维护者的补丁或拉取请求</li>
<li>每个维护者都有自己的 git 树，例如：<ul>
<li>Linux Torvalds: git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git</li>
<li>David Miller（网络）：git://git.kernel.org/pub/scm/linux/kernel/git/davem/net.git/</li>
</ul>
</li>
<li>每个子系统可能维护一个 -next 树，开发者可以在其中提交下一个合并窗口的补丁（patch）</li>
</ul>




</article>
<article class="admonition-linux slide level-2">

<h2>Linux 源代码布局</h2>

<img alt="../_images/ditaa-f45246aade5ecc7cfb71f7f103a57f95fc7c2b9e.png" src="../_images/ditaa-f45246aade5ecc7cfb71f7f103a57f95fc7c2b9e.png" />




</article>
<article class="admonition-linux slide level-2">

<h2>Linux 内核结构</h2>

<div class="highlight-text"><div class="highlight"><pre><span></span>+---------------+  +--------------+      +---------------+
| 应用程序 1    |   | 应用程序 2   | ...  |   应用程序 n   |
+---------------+  +--------------+      +---------------+
        |                 |                      |
        v                 v                      v
+--------------------------------------------------------+
|                       内核                             |
|                                                        |
|   +----------------------+     +-------------------+   |
|   |     进程管理         |      |      内存管理      |   |
|   +----------------------+     +-------------------+   |
|                                                        |
|   +------------+    +------------+    +------------+   |
|   | Block I/O  |    |    VFS     |    | Networking |   |
|   +------------+    +------------+    +------------+   |
|                                                        |
|   +------------+    +------------+    +------------+   |
|   |    IPC     |    |  Security  |    |   Crypto   |   |
|   +------------+    +------------+    +------------+   |
|                                                        |
|   +------------+    +------------+    +------------+   |
|   |    DRM     |    |    ALSA    |    |    USB     |   |
|   +------------+    +------------+    +------------+   |
|                        ...                             |
+--------------------------------------+-----------------+
|              设备驱动程序             |      arch       |
|                                      |                 |
| +----+  +-----+  +--------+ +----+   |  +----------+   |
| |字符 | |块设备 | |以太网  | |wifi |   | |   机器 1   |  |
| +----+  +-----+  +--------+ +----+   |  +----------+   |
| +--------+ +-----+   +----+ +---+    |  +----------+   |
| |文件系统| |输入设备| |IIO | |USB |    | |  机器 2   |   |
| +--------+ +-----+   +----+ +---+    |  +----------+   |
| +-----------+ +----------+  +---+    |                 |
| |帧缓冲区    | |平台设备  |  |DRM |   |     ...         |
| +-----------+ +----------+  +---+    |                 |
+-------------------------+----+-------+-----------------+
        |                 |                      |
        v                 v                      v

+--------------------------------------------------------+
|                         硬件                           |
+--------------------------------------------------------+
</pre></div>
</div>




</article>
<article class="admonition-arch slide level-2">

<h2>arch</h2>

<ul class="simple">
<li>针对架构的特定代码</li>
<li>可能进一步细分为针对特定机器的代码</li>
<li>与引导加载程序（boot loader）以及特定于架构的初始化程序进行交互</li>
<li>操作各种硬件位，这些硬件位是架构或机器特定的，例如中断控制器、SMP 控制器、总线控制器、异常和中断设置以及虚拟内存处理</li>
<li>针对架构优化的函数（例如 memcpy，字符串操作等）</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>设备驱动程序</h2>

<ul class="simple">
<li>统一的设备模型</li>
<li>每个子系统都有自己特定的驱动程序接口</li>
<li>许多设备驱动程序类型（TTY、串行设备、SCSI、文件系统、以太网、USB 设备、帧缓冲区、输入设备以及声音设备等）</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>进程管理</h2>

<ul class="simple">
<li>Unix 基本进程管理和 POSIX 线程支持</li>
<li>进程和线程被抽象为任务</li>
<li>操作系统级虚拟化<ul>
<li>命名空间（namespace）</li>
<li>控制组</li>
</ul>
</li>
</ul>




</article>
<article class="admonition- slide level-2">

<h2>内存管理</h2>

<ul class="simple">
<li>物理内存的管理：分配和释放内存</li>
<li>虚拟内存的管理：分页，交换，需求分页（demand paging），写时复制（copy on write）</li>
<li>用户服务：用户地址空间管理（例如 mmap()，brk()，共享内存）</li>
<li>内核服务：SL*B 分配器，vmalloc</li>
</ul>




</article>
<article class="admonition-i-o slide level-2">

<h2>块I/O管理</h2>

<div class="highlight-text"><div class="highlight"><pre><span></span>+---------------------------------+
|       虚拟文件系统切换           |
+---------------------------------+
               ^
               |
               v
+---------------------------------+
|         设备映射器               |
+---------------------------------+
               ^
               |
               v
+---------------------------------+
|           通用块层               |
+---------------------------------+
               ^
               |
               v
+--------------------------------+
|          I/O 调度程序           |
+--------------------------------+
       ^                ^
       |                |
       v                v
+--------------+  +--------------+
|块设备驱动程序 |  | 块设备驱动程序 |
+--------------+  +--------------+
</pre></div>
</div>




</article>
<article class="admonition- slide level-2">

<h2>虚拟文件系统</h2>

<div class="highlight-text"><div class="highlight"><pre><span></span>       ^                    ^                    ^
       | stat               | open               | read
       v                    v                    v
+------------------------------------------------------------+
|                       虚拟文件系统                          |
|                                                            |
|                                                            |
|    /-------\           /--------\           /--------\     |
|    | inode |&lt;----------+ dentry |&lt;----------+  FILE  |     |
|    \---+---/           \----+---/           \---+----/     |
|        |                    |                   |          |
|        |                    |                   |          |
|        v                    v                   v          |
|    +-------+           +--------+           +-------+      |
|    | inode |           | dentry |           | page  |      |
|    | cache |           | cache  |           | cache |      |
|    +-------+           +--------+           +-------+      |
|                                                            |
+------------------------------------------------------------+
             ^                                  ^
             |                                  |
             v                                  v
      +-------------+                    +-------------+
      | 文件系统驱动 |                    | 文件系统驱动 |
      +-------------+                    +-------------+
</pre></div>
</div>




</article>
<article class="admonition- slide level-2">

<h2>网络堆栈</h2>

<div class="highlight-text"><div class="highlight"><pre><span></span>  +---------------------------+
  | 伯克利套接字（socket）接口  |
  +---------------------------+

  +---------------------------+
  | 传输层（Transport layer）  |
  +-------------+-------------+
  |      TCP    |     UDP     |
  +-------------+-------------+

  +---------------------------+
  |  网络层（Network layer）   |
  +-----+---------+-----------+
  | IP  | 路由    | NetFilter |
  +-----+---------+-----------+

  +---------------------------+
  |数据链路层（Data link layer）|
  +-------+-------+-----------+
  |  ETH  |  ARP  | BRIDGING  |
  +-------+-------+-----------+

+--------------------------------+
|           队列调度机制          |
|   （Queuing discipline，qdisc） |
+--------------------------------+

  +---------------------------+
  |     网络设备驱动程序        |
  +---------------------------+
</pre></div>
</div>




</article>
<article class="admonition-linux slide level-2">

<h2>Linux 安全模块</h2>

<ul class="simple">
<li>扩展默认的 Linux 安全模型的钩子（hook）</li>
<li>被几个 Linux 安全扩展使用:<ul>
<li>安全增强型 Linux（SELinux）</li>
<li>AppArmor</li>
<li>Tomoyo</li>
<li>Smack</li>
</ul>
</li>
</ul>




</article>

</section>

<section id="slide_notes">

</section>

  </body>
</html>