<!DOCTYPE html>


<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Assignment 0 - Kernel API &mdash; The Linux Kernel  documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    <link rel="stylesheet" href="../_static/slides.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    
    
    <link rel="stylesheet" href="../_static/asciinema-player.css" type="text/css" />
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/asciinema-player.js"></script>
    <script type="text/javascript" src="../_static/common.js"></script>
    
    <script type="text/javascript" src="../_static/slides.js"></script>
    <script type="text/javascript" src="../_static/sync.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>
    
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="The Linux Kernel  documentation" href="../index.html" />
    <link rel="up" title="Operating Systems 2" href="index.html" />
    <link rel="next" title="Assignment 1 - Kprobe based tracer" href="assign1-kprobe-based-tracer.html" />
    <link rel="prev" title="Collaboration" href="assign-collaboration.html" /> 
  </head>
  <body>

<section
   id="slide_container"
   class='slides layout-regular'>


  
<article class="slide level-1" id="assignment-0-kernel-api">

<h1>Assignment 0 - Kernel API</h1>

<ul class="simple">
<li>Deadline: <strong class="command">Sunday, 26 March 2023, 23:00</strong></li>
</ul>




</article>
<article class="slide level-2" id="assignment-s-objectives">

<h2>Assignment's Objectives</h2>

<ul class="simple">
<li>getting familiar with the qemu setup</li>
<li>loading/unloading kernel modules</li>
<li>getting familiar with the list API implemented in the kernel</li>
<li>have fun :)</li>
</ul>




</article>
<article class="slide level-2" id="statement">

<h2>Statement</h2>

<p>Write a kernel module called <cite>list</cite> (the resulting file must be called <cite>list.ko</cite>) which stores data (strings)
in an internal list.</p>
<p>It is mandatory to use <a class="reference external" href="https://github.com/torvalds/linux/blob/master/include/linux/list.h">the list API</a>
implemented in the kernel.
For details you can take a look at <a class="reference external" href="https://linux-kernel-labs.github.io/refs/heads/master/so2/lab2-kernel-api.html">the laboratory 2</a>.</p>
<p>The module exports a directory named <strong class="command">list</strong> to procfs. The directory contains two files:</p>
<ul class="simple">
<li><strong class="command">management</strong>: with write-only access; is the interface for transmitting commands to the kernel module</li>
<li><strong class="command">preview</strong>: with read-only access; is the interface through which the internal contents of the kernel list can be viewed.</li>
</ul>
<p><a class="reference external" href="https://github.com/linux-kernel-labs/linux/blob/master/tools/labs/templates/assignments/0-list/list.c">The code skeleton</a> implements the two procfs files.
You will need to create a list and implement support for <cite>adding</cite> and <cite>reading</cite> data. Follow the TODOs in the code for details.</p>
<p>To interact with the kernel list, you must write commands (using the <cite>echo</cite> command) in the <cite>/proc/list/management</cite> file:</p>
<ul class="simple">
<li><cite>addf name</cite>: adds the <cite>name</cite> element to the top of the list</li>
<li><cite>adde name</cite>: adds the <cite>name</cite> element to the end of the list</li>
<li><cite>delf name</cite>: deletes the first appearance of the <cite>name</cite> item from the list</li>
<li><cite>dela name</cite>: deletes all occurrences of the <cite>name</cite> element in the list</li>
</ul>
<p>Viewing the contents of the list is done by viewing the contents of the <cite>/proc/list/preview</cite> file (use the` cat` command).
The format contains one element on each line.</p>




</article>
<article class="slide level-2" id="testing">

<h2>Testing</h2>

<p>In order to simplify the assignment evaluation process, but also to reduce the mistakes of the submitted assignments,
the assignment evaluation will be done automatically with the help of a
<a class="reference external" href="https://github.com/linux-kernel-labs/linux/blob/master/tools/labs/templates/assignments/0-list/checker/_checker">test script</a> called <cite>_checker</cite>.
The test script assumes that the kernel module is called <cite>list.ko</cite>.</p>




</article>
<article class="slide level-2" id="quickstart">

<h2>QuickStart</h2>

<p>It is mandatory to start the implementation of the assignment from the code skeleton found in the <a class="reference external" href="https://gitlab.cs.pub.ro/so2/0-list/-/blob/master/src/list.c">list.c</a> file.
You should follow the instructions in the <a class="reference external" href="https://gitlab.cs.pub.ro/so2/0-list/-/blob/master/README.md">README.md file</a> of the <a class="reference external" href="https://gitlab.cs.pub.ro/so2/0-list">assignment's repo</a>.</p>




</article>
<article class="slide level-3" id="tips">

<h3>Tips</h3>

<p>To increase your chances of getting the highest grade, read and follow the Linux kernel
coding style described in the <a class="reference external" href="https://elixir.bootlin.com/linux/v4.19.19/source/Documentation/process/coding-style.rst">Coding Style document</a>.</p>
<p>Also, use the following static analysis tools to verify the code:</p>
<ul class="simple">
<li>checkpatch.pl</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> linux/scripts/checkpatch.pl --no-tree --terse -f /path/to/your/list.c
</pre></div>
</div>
<ul class="simple">
<li>sparse</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo apt-get install sparse
<span class="gp">$</span> <span class="nb">cd</span> linux
<span class="gp">$</span> make <span class="nv">C</span><span class="o">=</span><span class="m">2</span> /path/to/your/list.c
</pre></div>
</div>
<ul class="simple">
<li>cppcheck</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo apt-get install cppcheck
<span class="gp">$</span> cppcheck /path/to/your/list.c
</pre></div>
</div>




</article>
<article class="slide level-3" id="penalties">

<h3>Penalties</h3>

<p>Information about assigments penalties can be found on the
<a class="reference external" href="https://ocw.cs.pub.ro/courses/so2/teme/general">General Directions page</a>.</p>
<p>In exceptional cases (the assigment passes the tests by not complying with the requirements)
and if the assigment does not pass all the tests, the grade will may decrease more than mentioned above.</p>




</article>
<article class="slide level-3" id="submitting-the-assigment">

<h3>Submitting the assigment</h3>

<p>The assignment will be graded automatically using the <a class="reference external" href="https://github.com/systems-cs-pub-ro/vmchecker-next/wiki/Student-Handbook">vmchecker-next</a> infrastructure.
The submission will be made on moodle on the <a class="reference external" href="https://curs.upb.ro/2022/course/view.php?id=5121">course's page</a> to the related assignment.
You will find the submission details in the <a class="reference external" href="https://gitlab.cs.pub.ro/so2/0-list/-/blob/master/README.md">README.md file</a> of the <a class="reference external" href="https://gitlab.cs.pub.ro/so2/0-list/-/blob/master">repo</a>.</p>




</article>
<article class="slide level-2" id="resources">

<h2>Resources</h2>

<p>We recommend that you use gitlab to store your homework. Follow the directions in
<a class="reference external" href="https://gitlab.cs.pub.ro/so2/0-list/-/blob/master/README.md">README.md file</a>.</p>




</article>
<article class="slide level-2" id="questions">

<h2>Questions</h2>

<p>For questions about the topic, you can consult the mailing <a class="reference external" href="http://cursuri.cs.pub.ro/pipermail/so2/">list archives</a>
or you can write a question on the dedicated Teams channel.</p>




</article>

</section>

<section id="slide_notes">

</section>

  </body>
</html>