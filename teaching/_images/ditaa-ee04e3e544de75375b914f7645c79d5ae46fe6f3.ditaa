-:------------------------------------------------------------------------------------

VFS layer                 sys_write → vfs_write → do_sync_write → filp->f_op->aio_write

-:------------------------------------------------------------------------------------

Generic socket layer      sock_aio_write → sock->ops->sendmsg

-:------------------------------------------------------------------------------------

IP socket layer           sk->sk_prot->sendmsg

-:------------------------------------------------------------------------------------

UDP socket layer          ip_append_data                   udp_flush_pending_frames
                                |                              |
-:------------------------------+------------------------------+-----------------------
                                V                              V
IP socket layer           skb = sock_alloc_send_skb();     ip_local_out
                          skb_queue_tail(sk, skb)

-:------------------------------------------------------------------------------------

                                   routing